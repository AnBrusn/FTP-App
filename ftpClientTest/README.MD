# Тесты для FTP-клиента
***
Тесты написаны с использованием TestNG. Для сборки используется Gradle.

В test-suite объединены три класса с тестами:
* `ParserTests` Тесты для JSON-парсера. Проверка корректности для
  * валидации JSON-строки
  * преобразования из JSON-строки в Map
  * преобразования из Map в JSON-строку
  * выброса исключения, если в JSON-строке id нескольких студентов совпадают
* `DataTests` Тесты для манипуляций с данными. Проверка корректности для
    * получения списка всех студетов
    * получения списка студентов с определённым именем
    * получения имени по id (выброса исключения, если id не существует)
    * добавления нового студента
    * удаления по id (выброса исключения, если id не существует)
* `FTPConnectorTests` Тесты для соединения с сервером. Для выполнения этих тестов в `utils/Constants.java` нужно 
указать корректные `SERVER_LOGIN`, `SERVER_PASSWORD` и `SERVER_IP`. Сервер должен работать в активном и пассивном
режимах, JSON-файл на сервере не обязателен. Проверка корректности для
    * подключения к серверу при правильном логине/пароле
    * выброса исключения при неправильном логине/пароле
    * подключения в активном режиме
    * подключения в пассивном режиме
    * получения файла от сервера (для пассивного режима)
    * отправки файла на сервер (для пассивного режима)

## Запуск тестов
В корневой директории проекта выполнить:
```
java -jar FTPClientTest.jar
```
После запуска в папке `test-output` будут лежать отчёты по каждому классу тестов.

## Сборка тестов
* Можно собрать проект, выполнив скрипт `build.sh`. Он создаст jar-файл в корне проекта.
* Можно собрать вручную
    1. с помощью `gradlew` скомпилировать код:
          ```
          ./gradlew build
          ```
    2. jar-файл будет создан в `build/libs/`, для удобства его можно перенести в корневую папку:
          ```
          cp build/libs/ftpClientTest-1.0-SNAPSHOT.jar ./FTPClientTest.jar
          ```